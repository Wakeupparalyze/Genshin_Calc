--
-- Script was generated by Devart dbForge Studio 2022 for MySQL, Version 9.1.21.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 30.03.2023 23:05:37
-- Server version: 8.0.32
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
CREATE DATABASE IF NOT EXISTS genshin_calc;
USE genshin_calc;

--
-- Drop table `custom_char`
--
DROP TABLE IF EXISTS custom_char;

--
-- Drop table `weapon_lists`
--
DROP TABLE IF EXISTS weapon_lists;

--
-- Drop table `weapons`
--
DROP TABLE IF EXISTS weapons;

--
-- Drop table `sets`
--
DROP TABLE IF EXISTS sets;

--
-- Drop table `clocks`
--
DROP TABLE IF EXISTS clocks;

--
-- Drop table `cups`
--
DROP TABLE IF EXISTS cups;

--
-- Drop table `feathers`
--
DROP TABLE IF EXISTS feathers;

--
-- Drop table `flowers`
--
DROP TABLE IF EXISTS flowers;

--
-- Drop table `hats`
--
DROP TABLE IF EXISTS hats;

--
-- Drop table `artifact_lists`
--
DROP TABLE IF EXISTS artifact_lists;

--
-- Drop table `character`
--
DROP TABLE IF EXISTS `character`;

--
-- Drop table `buff_lists`
--
DROP TABLE IF EXISTS buff_lists;

--
-- Drop table `food_atk`
--
DROP TABLE IF EXISTS food_atk;

--
-- Drop table `food_def`
--
DROP TABLE IF EXISTS food_def;

--
-- Drop table `potion`
--
DROP TABLE IF EXISTS potion;

--
-- Drop table `stat_lists`
--
DROP TABLE IF EXISTS stat_lists;

--
-- Set default database
--
USE genshin_calc;

--
-- Create table `stat_lists`
--
CREATE TABLE stat_lists (
  Id int NOT NULL,
  Crit_dmg int DEFAULT NULL,
  Crit_chance int DEFAULT NULL,
  Atk_flat int DEFAULT NULL,
  Atk int DEFAULT NULL,
  Def_flat int DEFAULT NULL,
  Def int DEFAULT NULL,
  Hp_flat int DEFAULT NULL,
  Hp int DEFAULT NULL,
  Element_Mastery int DEFAULT NULL,
  Energy_Recharge int DEFAULT NULL,
  Pyro_Dmg int DEFAULT NULL,
  Anemo_Dmg int DEFAULT NULL,
  Hydro_Dmg int DEFAULT NULL,
  Geo_Dmg int DEFAULT NULL,
  Cryo_Dmg int DEFAULT NULL,
  Dendro_Dmg int DEFAULT NULL,
  Phys_Dmg int DEFAULT NULL,
  Electro_Dmg int DEFAULT NULL,
  Heal_Bonus int DEFAULT NULL,
  Atk_Speed int DEFAULT NULL,
  Elemental_Burst_Dmg int DEFAULT NULL,
  Elemental_Skill_Dmg int DEFAULT NULL,
  Plunge_Atk_Dmg int DEFAULT NULL,
  Default_Atk_Dmg int DEFAULT NULL,
  Hold_Atk_Dmg int DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create table `potion`
--
CREATE TABLE potion (
  Id int NOT NULL,
  Stats_Id int DEFAULT NULL,
  Name varchar(50) DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE potion
ADD CONSTRAINT FK_potion_stat_lists_Id FOREIGN KEY (Stats_Id)
REFERENCES stat_lists (Id);

--
-- Create table `food_def`
--
CREATE TABLE food_def (
  Id int NOT NULL,
  Stats_Id int DEFAULT NULL,
  Name varchar(50) DEFAULT NULL,
  Special tinyint(1) DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE food_def
ADD CONSTRAINT FK_food_def_stat_lists_Id FOREIGN KEY (Stats_Id)
REFERENCES stat_lists (Id);

--
-- Create table `food_atk`
--
CREATE TABLE food_atk (
  Id int NOT NULL,
  Stats_id int DEFAULT NULL,
  Name varchar(50) DEFAULT NULL,
  Special tinyint(1) DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE food_atk
ADD CONSTRAINT FK_food_atk_stat_lists_Id FOREIGN KEY (Stats_id)
REFERENCES stat_lists (Id);

--
-- Create table `buff_lists`
--
CREATE TABLE buff_lists (
  Id int NOT NULL,
  food_def_id int NOT NULL,
  potion_id int NOT NULL,
  resonance enum ('Cryo', 'Pyro', 'Electro', 'Geo', 'Anemo', 'Dendro', 'Hydro') NOT NULL,
  food_atk_id int NOT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE buff_lists
ADD CONSTRAINT FK_buff_lists3 FOREIGN KEY (potion_id)
REFERENCES potion (Id);

--
-- Create foreign key
--
ALTER TABLE buff_lists
ADD CONSTRAINT FK_buff_lists_food_atk_Id FOREIGN KEY (food_atk_id)
REFERENCES food_atk (Id);

--
-- Create foreign key
--
ALTER TABLE buff_lists
ADD CONSTRAINT FK_buff_lists_food_def_Id FOREIGN KEY (food_def_id)
REFERENCES food_def (Id);

--
-- Create table `character`
--
CREATE TABLE `character` (
  Id int NOT NULL,
  name varchar(50) NOT NULL,
  lvl int NOT NULL,
  stat_list_id int NOT NULL,
  rarity enum ('4', '5') NOT NULL,
  weapon_type enum ('Bow', 'Sword', 'Polearm', 'Claymore', 'Catalyst') NOT NULL,
  element enum ('Anemo', 'Cryo', 'Hydro', 'Pyro', 'Geo', 'Dendro', 'Electro') NOT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `stats` on table `character`
--
ALTER TABLE `character`
ADD UNIQUE INDEX stats (stat_list_id);

--
-- Create index `name` on table `character`
--
ALTER TABLE `character`
ADD UNIQUE INDEX name (name);

--
-- Create foreign key
--
ALTER TABLE `character`
ADD CONSTRAINT FK_character_stat_lists_Id FOREIGN KEY (stat_list_id)
REFERENCES stat_lists (Id);

--
-- Create table `artifact_lists`
--
CREATE TABLE artifact_lists (
  Id int NOT NULL,
  cup_id int DEFAULT NULL,
  feather_id int DEFAULT NULL,
  hat_id int DEFAULT NULL,
  flower_id int DEFAULT NULL,
  clock_id int DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `cup_id` on table `artifact_lists`
--
ALTER TABLE artifact_lists
ADD UNIQUE INDEX cup_id (cup_id);

--
-- Create index `feather_id` on table `artifact_lists`
--
ALTER TABLE artifact_lists
ADD UNIQUE INDEX feather_id (feather_id);

--
-- Create index `hat_id` on table `artifact_lists`
--
ALTER TABLE artifact_lists
ADD UNIQUE INDEX hat_id (hat_id);

--
-- Create index `flower_id` on table `artifact_lists`
--
ALTER TABLE artifact_lists
ADD UNIQUE INDEX flower_id (flower_id);

--
-- Create index `clock_id` on table `artifact_lists`
--
ALTER TABLE artifact_lists
ADD UNIQUE INDEX clock_id (clock_id);

--
-- Create table `hats`
--
CREATE TABLE hats (
  Id int NOT NULL,
  lvl int DEFAULT NULL,
  rarity int NOT NULL,
  set_id int NOT NULL,
  stat_list_id int NOT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `set_id` on table `hats`
--
ALTER TABLE hats
ADD UNIQUE INDEX set_id (set_id);

--
-- Create index `stat_id` on table `hats`
--
ALTER TABLE hats
ADD UNIQUE INDEX stat_id (stat_list_id);

--
-- Create foreign key
--
ALTER TABLE hats
ADD CONSTRAINT FK_hat_artifacts_hat_id FOREIGN KEY (Id)
REFERENCES artifact_lists (hat_id);

--
-- Create foreign key
--
ALTER TABLE hats
ADD CONSTRAINT FK_hats_stat_lists_Id FOREIGN KEY (stat_list_id)
REFERENCES stat_lists (Id);

--
-- Create table `flowers`
--
CREATE TABLE flowers (
  Id int NOT NULL,
  set_id int NOT NULL,
  stats_list_id int NOT NULL,
  rarity int NOT NULL,
  lvl int DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `stats_list_id` on table `flowers`
--
ALTER TABLE flowers
ADD UNIQUE INDEX stats_list_id (stats_list_id);

--
-- Create index `set_id` on table `flowers`
--
ALTER TABLE flowers
ADD UNIQUE INDEX set_id (set_id);

--
-- Create foreign key
--
ALTER TABLE flowers
ADD CONSTRAINT FK_flowers_artifact_lists_flower_id FOREIGN KEY (Id)
REFERENCES artifact_lists (flower_id);

--
-- Create foreign key
--
ALTER TABLE flowers
ADD CONSTRAINT FK_flowers_stat_lists_Id FOREIGN KEY (stats_list_id)
REFERENCES stat_lists (Id);

--
-- Create table `feathers`
--
CREATE TABLE feathers (
  Id int NOT NULL,
  stats_list_id int NOT NULL,
  rarity int NOT NULL,
  set_id int NOT NULL,
  lvl int DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `stats_list_id` on table `feathers`
--
ALTER TABLE feathers
ADD UNIQUE INDEX stats_list_id (stats_list_id);

--
-- Create index `set_id` on table `feathers`
--
ALTER TABLE feathers
ADD UNIQUE INDEX set_id (set_id);

--
-- Create foreign key
--
ALTER TABLE feathers
ADD CONSTRAINT FK_feathers_artifact_lists_feather_id FOREIGN KEY (Id)
REFERENCES artifact_lists (feather_id);

--
-- Create foreign key
--
ALTER TABLE feathers
ADD CONSTRAINT FK_feathers_stat_lists_Id FOREIGN KEY (stats_list_id)
REFERENCES stat_lists (Id);

--
-- Create table `cups`
--
CREATE TABLE cups (
  Id int NOT NULL,
  stat_list_id int NOT NULL,
  rarity int NOT NULL,
  set_id int NOT NULL,
  lvl int DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `stat_id` on table `cups`
--
ALTER TABLE cups
ADD UNIQUE INDEX stat_id (stat_list_id);

--
-- Create index `set_id` on table `cups`
--
ALTER TABLE cups
ADD UNIQUE INDEX set_id (set_id);

--
-- Create foreign key
--
ALTER TABLE cups
ADD CONSTRAINT FK_cup_artifacts_cup_id FOREIGN KEY (Id)
REFERENCES artifact_lists (cup_id);

--
-- Create foreign key
--
ALTER TABLE cups
ADD CONSTRAINT FK_cups_stat_lists_Id FOREIGN KEY (stat_list_id)
REFERENCES stat_lists (Id);

--
-- Create table `clocks`
--
CREATE TABLE clocks (
  Id int NOT NULL,
  stats_list_id int NOT NULL,
  rarity int NOT NULL,
  set_id int NOT NULL,
  lvl int DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `stats_list_id` on table `clocks`
--
ALTER TABLE clocks
ADD UNIQUE INDEX stats_list_id (stats_list_id);

--
-- Create index `set_id` on table `clocks`
--
ALTER TABLE clocks
ADD UNIQUE INDEX set_id (set_id);

--
-- Create foreign key
--
ALTER TABLE clocks
ADD CONSTRAINT FK_clocks_artifact_lists_clock_id FOREIGN KEY (Id)
REFERENCES artifact_lists (clock_id);

--
-- Create foreign key
--
ALTER TABLE clocks
ADD CONSTRAINT FK_clocks_stat_lists_Id FOREIGN KEY (stats_list_id)
REFERENCES stat_lists (Id);

--
-- Create table `sets`
--
CREATE TABLE sets (
  Id int NOT NULL,
  Set_name varchar(255) NOT NULL,
  Set_effect2 text NOT NULL,
  Set_effect4 text NOT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE sets
ADD CONSTRAINT FK_sets FOREIGN KEY (Id)
REFERENCES genshin.flowers (Id);

--
-- Create foreign key
--
ALTER TABLE sets
ADD CONSTRAINT FK_sets_clocks_set_id FOREIGN KEY (Id)
REFERENCES clocks (set_id);

--
-- Create foreign key
--
ALTER TABLE sets
ADD CONSTRAINT FK_sets_cups_set_id FOREIGN KEY (Id)
REFERENCES cups (set_id);

--
-- Create foreign key
--
ALTER TABLE sets
ADD CONSTRAINT FK_sets_feathers_set_id FOREIGN KEY (Id)
REFERENCES feathers (set_id);

--
-- Create foreign key
--
ALTER TABLE sets
ADD CONSTRAINT FK_sets_flowers_set_id FOREIGN KEY (Id)
REFERENCES flowers (set_id);

--
-- Create foreign key
--
ALTER TABLE sets
ADD CONSTRAINT FK_sets_hats_set_id FOREIGN KEY (Id)
REFERENCES hats (set_id);

--
-- Create table `weapons`
--
CREATE TABLE weapons (
  Id int NOT NULL,
  Name varchar(50) DEFAULT NULL,
  Stats varchar(255) DEFAULT NULL,
  Weapon_type enum ('Bow', 'Sword', 'Catalyst', 'Polearm', 'Claymore') DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create table `weapon_lists`
--
CREATE TABLE weapon_lists (
  Id int NOT NULL,
  Weapon_id int NOT NULL,
  Refinement int NOT NULL,
  Lvl int NOT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create foreign key
--
ALTER TABLE weapon_lists
ADD CONSTRAINT FK_weapon_lists_weapons_Id FOREIGN KEY (Weapon_id)
REFERENCES weapons (Id);

--
-- Create table `custom_char`
--
CREATE TABLE custom_char (
  Id int NOT NULL,
  character_id int NOT NULL,
  artifact_list_id int NOT NULL,
  stat_list_id int NOT NULL,
  weapon_id int NOT NULL,
  lvl int NOT NULL,
  buff_list_id int DEFAULT NULL,
  PRIMARY KEY (Id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci;

--
-- Create index `stats` on table `custom_char`
--
ALTER TABLE custom_char
ADD UNIQUE INDEX stats (stat_list_id);

--
-- Create index `char_id` on table `custom_char`
--
ALTER TABLE custom_char
ADD UNIQUE INDEX char_id (character_id);

--
-- Create index `weapon` on table `custom_char`
--
ALTER TABLE custom_char
ADD UNIQUE INDEX weapon (weapon_id);

--
-- Create index `stats_2` on table `custom_char`
--
ALTER TABLE custom_char
ADD UNIQUE INDEX stats_2 (stat_list_id);

--
-- Create index `Artefacts` on table `custom_char`
--
ALTER TABLE custom_char
ADD UNIQUE INDEX Artefacts (artifact_list_id);

--
-- Create foreign key
--
ALTER TABLE custom_char
ADD CONSTRAINT FK_char_artifacts_Id FOREIGN KEY (artifact_list_id)
REFERENCES artifact_lists (Id);

--
-- Create foreign key
--
ALTER TABLE custom_char
ADD CONSTRAINT FK_char_character_Id FOREIGN KEY (character_id)
REFERENCES `character` (Id);

--
-- Create foreign key
--
ALTER TABLE custom_char
ADD CONSTRAINT FK_custom_char_buff_lists_Id FOREIGN KEY (buff_list_id)
REFERENCES buff_lists (Id);

--
-- Create foreign key
--
ALTER TABLE custom_char
ADD CONSTRAINT FK_custom_char_stat_lists_Id FOREIGN KEY (stat_list_id)
REFERENCES stat_lists (Id);

--
-- Create foreign key
--
ALTER TABLE custom_char
ADD CONSTRAINT FK_custom_char_weapon_lists_Id FOREIGN KEY (weapon_id)
REFERENCES weapon_lists (Id);

-- 
-- Dumping data for table stat_lists
--
-- Table genshin_calc.stat_lists does not contain any data (it is empty)

-- 
-- Dumping data for table artifact_lists
--
-- Table genshin_calc.artifact_lists does not contain any data (it is empty)

-- 
-- Dumping data for table weapons
--
-- Table genshin_calc.weapons does not contain any data (it is empty)

-- 
-- Dumping data for table potion
--
-- Table genshin_calc.potion does not contain any data (it is empty)

-- 
-- Dumping data for table food_def
--
-- Table genshin_calc.food_def does not contain any data (it is empty)

-- 
-- Dumping data for table food_atk
--
-- Table genshin_calc.food_atk does not contain any data (it is empty)

-- 
-- Dumping data for table hats
--
-- Table genshin_calc.hats does not contain any data (it is empty)

-- 
-- Dumping data for table flowers
--
-- Table genshin_calc.flowers does not contain any data (it is empty)

-- 
-- Dumping data for table feathers
--
-- Table genshin_calc.feathers does not contain any data (it is empty)

-- 
-- Dumping data for table cups
--
-- Table genshin_calc.cups does not contain any data (it is empty)

-- 
-- Dumping data for table clocks
--
-- Table genshin_calc.clocks does not contain any data (it is empty)

-- 
-- Dumping data for table weapon_lists
--
-- Table genshin_calc.weapon_lists does not contain any data (it is empty)

-- 
-- Dumping data for table `character`
--
-- Table genshin_calc.`character` does not contain any data (it is empty)

-- 
-- Dumping data for table buff_lists
--
-- Table genshin_calc.buff_lists does not contain any data (it is empty)

-- 
-- Dumping data for table sets
--
-- Table genshin_calc.sets does not contain any data (it is empty)

-- 
-- Dumping data for table custom_char
--
-- Table genshin_calc.custom_char does not contain any data (it is empty)

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;
